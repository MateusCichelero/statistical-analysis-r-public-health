(window.webpackJsonp=window.webpackJsonp||[]).push([[134,135],{"++4Y":function(module,t,e){"use strict";e.r(t),e.d(t,"styles",function(){return q}),e.d(t,"AttemptPage",function(){return z}),e.d(t,"withRedirectToCover",function(){return M});var n=e("VbXa"),i=e.n(n),o=e("q1tI"),r=e.n(o),a=e("MnCE"),u=e("AeFk"),s=e("+LJP"),c=e("8Hdl"),d=e("usGt"),m=e("LHEl"),l=e("3AF4"),b=e("rD/6"),p=e("tcH/"),f=e("s3XC"),v=e("aBK/"),S=e("uAMc"),g=e("RH4a"),O=e("zaiP"),j=e("wIYG"),h=e("kYu0"),y=e("FtgG"),I=e("8ec0"),C=e("l0R+"),D=e("RLfs"),T=e("pJaO"),k=e("kvW3"),A=e("v4A+"),P=e("kIii"),x=e("GZYn"),w=e("pH37"),L=e("VtNW"),B=e.n(L),q={header:function header(t){return Object(u.c)({marginBottom:t.spacing(48)})},points:function points(t){return Object(u.c)({marginTop:t.spacing(8)})},submissionGrade:function submissionGrade(t){return Object(u.c)({marginTop:t.spacing(12)})}},z=function(t){function AttemptPage(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state={showSkillTaggingDialog:!1},e.handleKeepLearningClick=function(t){Object(w.b)(t)?e.props.redirectToNextItem():e.setState({showSkillTaggingDialog:!0})},e}i()(AttemptPage,t);var e=AttemptPage.prototype;return e.componentDidMount=function componentDidMount(){var t=this.props,e=t.shouldRedirectToCover,n=t.redirectToCover;e&&n()},e.render=function render(){var t=this,e=this.props,n=e.redirectToCover,i=e.redirectToNextItem,o=e.addRedirectToCoverToRouteParams,r=e.examSessionId,a=this.state.showSkillTaggingDialog;return Object(u.d)(O.a,null,function(e){var s=e.item;if(!s)return null;return Object(u.d)(h.a,{standardProctorConfigurationId:s.contentSummary&&"exam"===s.contentSummary.typeName&&s.contentSummary.definition.standardProctorConfigurationId||null},function(e){var d=e.shouldShowTimer,O=e.secondsLeftInLatestAttempt,h=e.refetch,w=e.remainingAttempts;return Object(u.d)(f.b,{onClose:n,backbuttonAriaLabel:B()("Back"),headerLeft:Object(u.d)(l.a,{headerText:s.name,itemTypeText:B()("Graded Quiz"),timeCommitment:s.timeCommitment}),headerRight:Object(u.d)(v.a,{courseId:s.courseId,itemId:s.id,examSessionId:r},function(t){var e=t.isSubmitted;return Object(u.d)(b.a,{deadline:s.deadline,remainingTimeInMs:"number"==typeof O?1e3*O:null,showTimer:d&&!e,timerId:Object(I.a)(s.id)})}),topBanner:Object(u.d)(v.a,{courseId:s.courseId,itemId:s.id,examSessionId:r},function(e){var i=e.isSubmitted,o,r=(s.contentSummary&&"exam"===s.contentSummary.typeName&&s.contentSummary.definition||{}).passingFraction;if(i&&s.itemGrade){var a,c=(s.itemGrade||{}).isPassed,d=Object(x.b)(c,s.isCumulativeGraded,w);return Object(u.d)(m.a,{courseId:s.courseId,itemId:s.id},function(e){var i=e.lockingConfigurationSummary,o=e.bestEvaluation;return Object(u.d)("div",null,Object(u.d)(y.a,{itemGrade:s.itemGrade,computedScore:(o||{}).score,maxScore:(o||{}).maxScore,passingFraction:r,isCumulativeGraded:s.isCumulativeGraded,onKeepLearningClick:function onKeepLearningClick(){return t.handleKeepLearningClick(s.courseId)},remainingAttempts:w,lockingConfigurationSummary:i,onTryAgainClick:n}),Object(T.b)()&&d===x.a.PASSED&&Object(u.d)(T.a,{courseId:s.courseId,itemId:s.id}))})}return null})},Object(u.d)(A.a,{courseId:s.courseId,itemId:s.id},function(t){var e=t.postQuizSuggestions,n=t.loading;return Object(u.d)(v.a,{courseId:s.courseId,itemId:s.id,onQuizSessionQueryCompleted:function onQuizSessionQueryCompleted(){return h()},examSessionId:r},function(t){var i=t.quizFormData,r=t.sessionId,a=t.nextSubmissionDraftId,m=t.attemptScore,l=t.totalPoints,b=t.quizQuestions,f=t.isSubmitted,v=t.hasDraft,O=t.isLimitedFeedback;if(!i||n||!b||!r)return Object(u.d)(j.a,null);if(O)return null;var h=b.map(function(t){return t.prompt.id});return Object(u.d)(g.a,{itemId:s.id,courseId:s.courseId},function(t){var n=t.stepState,b=t.setStepState;return Object(u.d)("div",null,Object(u.d)("div",{css:q.header},Object(u.d)(c.a,{variant:"h1semibold",component:"h2"},s.name),f&&"number"==typeof m?Object(u.d)("div",{css:q.submissionGrade},Object(u.d)(c.a,{variant:"h2semibold",component:"span"},B()("Latest Submission Grade #{grade}%",{grade:Object(C.a)(m)}))):Object(u.d)("div",{css:q.points},Object(u.d)(c.a,{variant:"h4bold",component:"span","aria-label":B()("Total available points #{totalPoints}",{totalPoints:l})},Object(u.d)("span",{"aria-hidden":!0},Object(u.d)(k.b,{message:B()("Total points {totalPoints}"),totalPoints:Object(u.d)(c.a,{variant:"body2",component:"span"},l)}))))),Object(u.d)("div",null,Object(u.d)(P.a,{quizFormData:i,isSubmitted:f,postQuizSuggestions:e,stepState:n})),Object(u.d)(S.a,{ids:h,sessionId:r,nextSubmissionDraftId:a},function(t){var e=t.hasUnfilledResponses,i=t.saveDraft,r=t.autoSaveDraft,a=t.submitDraft,c=t.submitLatestSubmissionDraft;return Object(u.d)(p.a,{hasUnfilledResponses:e,itemId:s.id,courseId:s.courseId,saveDraft:i,autoSaveDraft:r,isSubmitted:f,submitDraft:function submitDraft(){return a?a().then(function(){o()}):Promise.reject()},submitLatestSubmissionDraft:function submitLatestSubmissionDraft(){return c?c().then(function(){o()}):Promise.reject()},hasTimer:d,hasDraft:v,stepState:n,setStepState:b})}))})})}),a&&Object(u.d)(D.b,{hideDialogDuringLoading:!1,scrollLockQuerySelector:".rc-TunnelVisionWrapper__content",dialogTitle:B()("Help us identify the right topics"),dialogDescription:B()("Select the skills that are covered in this quiz"),onClose:i,courseId:s.courseId,itemId:s.id}))})})},AttemptPage}(r.a.Component),M=Object(a.compose)(d.a,Object(s.a)(function(t,e){var n=e.nextItemUrl,i=void 0===n?"":n,o=e.refetchCoverPageData,r=e.refreshProgress,a=function redirectToCover(){o&&o(),t.push({name:"quiz-cover",params:t.params,query:t.location.query}),r()};return{redirectToCover:a,redirectToNextItem:function redirectToNextItem(){i?(t.push(i),r()):a()},addRedirectToCoverToRouteParams:function addRedirectToCoverToRouteParams(){t.push({name:"quiz-attempt",params:t.params,query:{redirectToCover:!0}})},shouldRedirectToCover:t.location.query.redirectToCover}}));t.default=M(z)},KBmY:function(module,t,e){"use strict";e.r(t);var n=e("q1tI"),i=e.n(n),o=e("PDuk"),r=e("zaiP"),a=e("LHEl"),u=e("++4Y"),s=function SubmittedAttemptPage(t){var e=t.nextItemUrl;return i.a.createElement(r.a,null,function(t){var n=t.item;if(!n||!n.contentSummary)return null;return i.a.createElement(a.a,{courseId:n.courseId,itemId:n.id},function(t){var r=t.loading,a=t.lastSessionId;if(r)return null;var s=Object(o.c)([n.courseId,n.id,null!=a?a:""]);return i.a.createElement(u.default,{examSessionId:s,nextItemUrl:e})})})};t.default=s},PvFy:function(module,t,e){"use strict";var n=e("q1tI"),i=e.n(n),o=e("AeFk"),r=e("8Hdl"),a=e("HDKb"),u=e("5mFy"),s=e("7Dw/"),c=e("/96O"),d=e("kvW3"),m=e("VtNW"),l=e.n(m),b={root:function root(t){return{display:"flex",margin:t.spacing(48,0),".cds-Accordion-focusContainer":{padding:"0 !important"},".cds-AccordionHeader-button":{padding:"0 !important"},".css-1rj0txn-AccordionPanel":{marginLeft:"0 !important"},".cds-Accordion-container":{border:"none !important"},".cds-AccordionHeader-button:hover":{backgroundColor:"transparent !important"}}},textBlockBody:function textBlockBody(t,e){return{marginTop:e?t.spacing(16):0,".rc-CML":{display:"inline-block"}}},numberCell:{width:"26px"},contentCell:{width:"calc(100% - 26px)"}},p=function TextBlock(t){var e=t.textBlock,n=t.isCollapsible,i=void 0!==n&&n,m=t.index,p=Object(o.d)(r.a,{css:function css(t){return b.textBlockBody(t,i)},variant:"body1"},Object(o.d)(c.a,{value:null==e?void 0:e.body}));return Object(o.d)("div",{css:b.root},Object(o.d)("div",{css:b.numberCell},Object(o.d)(r.a,{variant:"h3bold","aria-hidden":!0},Object(o.d)(d.c,{value:m+1,"aria-hidden":!0}),"."),Object(o.d)("span",{className:"screenreader-only"},Object(o.d)(d.b,{message:l()("Question {questionNumber}"),questionNumber:m+1}))),Object(o.d)("div",{css:b.contentCell},i?Object(o.d)(a.a,{variant:"silent"},Object(o.d)(u.a,{label:null==e?void 0:e.title}),Object(o.d)(s.a,null,p)):p))};t.a=p},kIii:function(module,t,e){"use strict";var n=e("q1tI"),i=e.n(n),o=e("PvFy"),r=e("9iH2"),a=e("LXPe"),u=e("uFBg"),s=function QuizPartRenderer(t){var e=t.quizFormData,s=t.isSubmitted,c=t.postQuizSuggestions,d=t.stepState,m=Object(a.a)();return i.a.createElement(n.Fragment,null,e.map(function(t,e){if(m&&(null==t?void 0:t.typeName)===u.b||(null==t?void 0:t.typeName)===u.a)return i.a.createElement(o.a,{textBlock:null==t?void 0:t.definition,isCollapsible:(null==t?void 0:t.typeName)===u.a,index:e});var n=m&&(null==t?void 0:t.definition)||t;return i.a.createElement(r.a,{key:null==n?void 0:n.prompt.id,quizQuestion:n,index:e,postQuizSuggestions:(s&&c||[]).find(function(t){return t.id===n.prompt.id}),isReadOnly:!!s,isDisabled:!!(null==d?void 0:d.isSaving)||!!(null==d?void 0:d.isSubmitting)})}))};t.a=s},"tcH/":function(module,t,e){"use strict";var n=e("lSNA"),i=e.n(n),o=e("VbXa"),r=e.n(o),a=e("q1tI"),u=e.n(a),s=e("d3Ej"),c=e.n(s),d=e("AeFk"),m=e("HOoY"),l=e("zaiP"),b=e("YmkS"),p=e("qJwm"),f=e("UUQQ"),v=e("CnKM"),S=e("8ec0"),g=e("KvdX"),O=e("rQpo"),j=e("Cqp/"),h=e("ZJgU"),y=e("8xbv"),I=e("PB6g");function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var C={root:function root(t){return Object(d.c)({margin:t.spacing(48,0)})},buttonsContainer:function buttonsContainer(t){return Object(d.c)({marginTop:t.spacing(32),paddingBottom:t.spacing(48),borderBottom:"1px solid ".concat(t.palette.gray[300]),marginBottom:t.spacing(12)})},saveButton:function saveButton(t){return Object(d.c)({marginLeft:t.spacing(24)})}},D=function(t){function SubmissionControls(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state={canSubmit:!1,announcement:""},e.onSubmitClick=function(){var t=e.props,n=t.hasUnfilledResponses,i=t.updateAndSubmitDraft,o=t.showModal,r=function trackedUpdateAndSubmitDraft(){return i&&i().then(function(){m.a.trackComponent({namespace:{app:"open_course",page:"item_page"}},{},"submit","quiz")})};n?o({type:g.a.unansweredQuestions,props:{onPrimaryButtonClick:r}}):i&&(e.setAnnouncement(c()("Submitting assignment")),r())},e.enableSubmit=function(){e.setState({canSubmit:!0})},e.disableSubmit=function(){e.setState({canSubmit:!1})},e.autoSubmit=function(){var t=e.props,n=t.showModal,i=t.hideModal,o=t.submitLatestSubmissionDraft;n({type:g.a.timeExpiredModal,props:{onPrimaryButtonClick:i}}),o&&o()},e.startAutoSubmitTimeout=function(){var t=e.props.expiresAt;"number"==typeof t&&(e.autoSubmitTimeout=window.setTimeout(e.autoSubmit,t-Date.now()))},e.setAnnouncement=function(t){e.setState({announcement:t},function(){setTimeout(function(){e.setState({announcement:""})},150)})},e.updateDraft=function(){var t=e.props.updateDraft;t&&(e.setAnnouncement(c()("Saving draft submission")),t().then(function(){e.setAnnouncement(c()("Draft submission saved successfully"))}))},e}r()(SubmissionControls,t);var e=SubmissionControls.prototype;return e.componentDidMount=function componentDidMount(){var t=this.props,e=t.hasDraft,n=t.autoSaveDraft,i=t.submitLatestSubmissionDraft;!e&&n&&n(),i&&this.startAutoSubmitTimeout()},e.componentDidUpdate=function componentDidUpdate(t){var e=this.props.expiresAt;t.expiresAt!==e&&this.autoSubmitTimeout&&(clearTimeout(this.autoSubmitTimeout),this.autoSubmitTimeout=null,this.startAutoSubmitTimeout())},e.componentWillUnmount=function componentWillUnmount(){this.autoSubmitTimeout&&clearTimeout(this.autoSubmitTimeout)},e.render=function render(){var t=this,e=this.props,n=e.stepState,i=n.isSaving,o=n.isSubmitting,r=n.isAutoSaving,a=e.stepState,u=e.setStepState,s=e.updateDraft,m=e.updateAndSubmitDraft,v=this.state,S=v.canSubmit,g=v.announcement,D=i||r,T=D||o;return Object(d.d)(l.a,null,function(e){var n=e.item;if(n&&n.isPremiumGradingLocked)return Object(d.d)("div",null,Object(d.d)(O.a,{courseId:n.courseId}));return Object(d.d)("div",{css:C.root},Object(d.d)("div",null,Object(d.d)(f.a,{onAgreementComplete:t.enableSubmit,onAgreementIncomplete:t.disableSubmit})),Object(d.d)("div",{css:C.buttonsContainer},m&&Object(d.d)(h.a,{iconPosition:"before",icon:o?Object(d.d)(y.a,null):void 0,onClick:t.onSubmitClick,disabled:T||!S,variant:"primary"},o?c()("Submitting…"):c()("Submit")),s&&Object(d.d)(h.a,{iconPosition:"before",icon:D?Object(d.d)(y.a,null):void 0,onClick:t.updateDraft,disabled:!!T,variant:"secondary",css:C.saveButton},D?c()("Saving..."):c()("Save draft"))),Object(d.d)(b.a,{computedItem:n,itemFeedbackType:p.c.Quiz}),Object(d.d)(I.b,{tagName:"span",role:"region","aria-live":"assertive","aria-atomic":!0},g&&Object(d.d)("span",null,g)),Object(d.d)(j.a,{stepState:a,setStepState:u}))})},SubmissionControls}(u.a.Component),T=function SubmissionControlsContainer(t){var e=t.saveDraft,n=t.submitDraft,i=t.hasTimer,o=t.itemId,r=t.isSubmitted;if(!e||!n)return null;if(!i)return Object(d.d)(g.b,null,function(i){var o=i.showModal,a=i.hideModal;return r?null:Object(d.d)(D,_objectSpread(_objectSpread({},t),{},{updateDraft:e,updateAndSubmitDraft:n,showModal:o,hideModal:a}))});return Object(d.d)(v.a,{id:Object(S.a)(o)},function(i){var o=i.expiresAt;return Object(d.d)(g.b,null,function(i){var a=i.showModal,u=i.hideModal;return r?null:Object(d.d)(D,_objectSpread(_objectSpread({},t),{},{updateDraft:e,updateAndSubmitDraft:n,showModal:a,hideModal:u,expiresAt:o}))})})};t.a=T}}]);
//# sourceMappingURL=134.0c2945a5a754be6d58ce.js.map